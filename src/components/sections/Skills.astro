---
import type { Skill } from '@/utils/schemas/cv-schema';
import { Icon } from 'astro-icon/components';

interface Props {
  skills: Skill[];
}

const { skills } = Astro.props;
---

<section class="my-8">
  <h2
    class="flex items-center gap-3 text-2xl font-semibold text-primary mb-8 pb-3 border-b-2 border-primary dark:text-accent dark:border-accent"
  >
    <Icon name="fa-solid:cogs" class="w-6 h-6" />
    Skills & Technologies
  </h2>

  {
    skills.length > 0 && (
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        {skills.map((skill) => (
          <div class="p-6 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg transition-all duration-200 hover:shadow-md hover:border-blue-600 hover:-translate-y-1 md:hover:translate-y-0 print:break-inside-avoid print:mb-4 print:shadow-none print:hover:border-gray-200 print:hover:translate-y-0 animate-in fade-in-50 slide-in-from-bottom-8 duration-700">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2 flex-wrap">
              <Icon
                name="fa-solid:code"
                class="w-5 h-5 text-primary dark:text-accent"
              />
              {skill.name}
              {skill.level && (
                <span class="text-xs bg-blue-600 dark:bg-blue-500 text-white px-2 py-1 rounded-full font-medium uppercase tracking-wide">
                  {skill.level}
                </span>
              )}
            </h3>
            <div class="flex flex-wrap gap-2">
              {skill.keywords.map((keyword) => (
                <span
                  class="bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-3 py-1.5 rounded-full text-sm font-medium border border-gray-200 dark:border-gray-600 transition-all duration-150 cursor-default hover:bg-blue-600 hover:text-white hover:border-blue-600 hover:-translate-y-0.5 hover:scale-105 print:hover:bg-gray-50 print:hover:text-gray-900 print:hover:border-gray-200 print:hover:translate-y-0 animate-in fade-in-0 zoom-in-75 duration-300 delay-[--stagger]"
                  style={`--stagger: ${skill.keywords.indexOf(keyword) * 50}ms`}
                >
                  {keyword}
                </span>
              ))}
            </div>
          </div>
        ))}
      </div>
    )
  }
</section>
